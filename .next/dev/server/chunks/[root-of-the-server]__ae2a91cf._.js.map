{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/huyixi/i/font-subsetter/lib/presetCharsets.ts"],"sourcesContent":["export type PresetCharsetId = 'digits' | 'latin' | 'cn-3500' | 'cn-7000'\n\nexport interface PresetCharsetMeta {\n  id: PresetCharsetId\n  label: string\n  sizeHint: number\n  type: 'inline' | 'remote'\n  path?: string\n}\n\nexport const PRESET_CHARSET_META: PresetCharsetMeta[] = [\n  {\n    id: 'digits',\n    label: '数字 0-9',\n    sizeHint: 10,\n    type: 'inline',\n  },\n  {\n    id: 'latin',\n    label: '英文 A-Z a-z',\n    sizeHint: 52,\n    type: 'inline',\n  },\n  {\n    id: 'cn-3500',\n    label: '常用汉字 3500',\n    sizeHint: 3500,\n    type: 'remote',\n    path: '/charsets/cn-3500.txt',\n  },\n  {\n    id: 'cn-7000',\n    label: '常用汉字 7000',\n    sizeHint: 7000,\n    type: 'remote',\n    path: '/charsets/cn-7000.txt',\n  },\n]\n\nexport const inlineCharsetMap: Record<PresetCharsetId, string | undefined> = {\n  digits: '0123456789',\n  latin: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz',\n  'cn-3500': undefined,\n  'cn-7000': undefined,\n}\n"],"names":[],"mappings":";;;;;;AAUO,MAAM,sBAA2C;IACtD;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,MAAM;QACN,MAAM;IACR;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,MAAM;QACN,MAAM;IACR;CACD;AAEM,MAAM,mBAAgE;IAC3E,QAAQ;IACR,OAAO;IACP,WAAW;IACX,WAAW;AACb"}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":["file:///Users/huyixi/i/font-subsetter/lib/presetCharsetService.ts"],"sourcesContent":["import { promises as fs } from 'node:fs'\nimport path from 'node:path'\nimport {\n  PRESET_CHARSET_META,\n  inlineCharsetMap,\n  type PresetCharsetId,\n  type PresetCharsetMeta,\n} from './presetCharsets'\n\nexport function getPresetMetadata(): PresetCharsetMeta[] {\n  return PRESET_CHARSET_META\n}\n\nexport async function loadPresetCharset(id: PresetCharsetId): Promise<string | null> {\n  const inlineCharset = inlineCharsetMap[id]\n  if (inlineCharset) {\n    return inlineCharset\n  }\n\n  const meta = PRESET_CHARSET_META.find((item) => item.id === id)\n  if (!meta || meta.type !== 'remote' || !meta.path) {\n    return null\n  }\n\n  const relativePath = meta.path.startsWith('/') ? meta.path.slice(1) : meta.path\n  const filePath = path.join(process.cwd(), 'public', relativePath)\n\n  try {\n    const content = await fs.readFile(filePath, 'utf8')\n    return content.trim()\n  } catch (error) {\n    console.error(`Failed to load charset file for ${id}:`, error)\n    return null\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AAOO,SAAS;IACd,OAAO,8IAAmB;AAC5B;AAEO,eAAe,kBAAkB,EAAmB;IACzD,MAAM,gBAAgB,2IAAgB,CAAC,GAAG;IAC1C,IAAI,eAAe;QACjB,OAAO;IACT;IAEA,MAAM,OAAO,8IAAmB,CAAC,IAAI,CAAC,CAAC,OAAS,KAAK,EAAE,KAAK;IAC5D,IAAI,CAAC,QAAQ,KAAK,IAAI,KAAK,YAAY,CAAC,KAAK,IAAI,EAAE;QACjD,OAAO;IACT;IAEA,MAAM,eAAe,KAAK,IAAI,CAAC,UAAU,CAAC,OAAO,KAAK,IAAI,CAAC,KAAK,CAAC,KAAK,KAAK,IAAI;IAC/E,MAAM,WAAW,4HAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI,UAAU;IAEpD,IAAI;QACF,MAAM,UAAU,MAAM,yHAAE,CAAC,QAAQ,CAAC,UAAU;QAC5C,OAAO,QAAQ,IAAI;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,gCAAgC,EAAE,GAAG,CAAC,CAAC,EAAE;QACxD,OAAO;IACT;AACF"}},
    {"offset": {"line": 140, "column": 0}, "map": {"version":3,"sources":["file:///Users/huyixi/i/font-subsetter/app/api/presets/%5BpresetId%5D/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { loadPresetCharset } from '@/lib/presetCharsetService'\n\nexport const runtime = 'nodejs'\n\ninterface Params {\n  params: {\n    presetId: string\n  }\n}\n\nexport async function GET(_request: Request, { params }: Params) {\n  const characters = await loadPresetCharset(params.presetId)\n\n  if (!characters) {\n    return NextResponse.json({ error: 'Preset not found' }, { status: 404 })\n  }\n\n  return NextResponse.json({ id: params.presetId, characters, count: characters.length })\n}\n"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEO,MAAM,UAAU;AAQhB,eAAe,IAAI,QAAiB,EAAE,EAAE,MAAM,EAAU;IAC7D,MAAM,aAAa,MAAM,IAAA,kJAAiB,EAAC,OAAO,QAAQ;IAE1D,IAAI,CAAC,YAAY;QACf,OAAO,+QAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAmB,GAAG;YAAE,QAAQ;QAAI;IACxE;IAEA,OAAO,+QAAY,CAAC,IAAI,CAAC;QAAE,IAAI,OAAO,QAAQ;QAAE;QAAY,OAAO,WAAW,MAAM;IAAC;AACvF"}}]
}